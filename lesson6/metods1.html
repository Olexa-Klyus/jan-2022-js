<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script>


    // // Стрінги - методи(функції)
    let s = 'Okten';
    // // string.prototype.concat() - з'єднує масив str значень між собою (заміна +, використовується рідко)
    console.log(s.concat(' School'));
    //
    // // Всі - повертають нову str
    //
    // // string.prototype.toUpperCase() - str до верхнього або нижнього регістру
    // // string.prototype.toLoverCase()
    console.log(s.toUpperCase());
    console.log(s.toLowerCase());
    //
    // // string.prototype.startsWith() - перевірка, чи починається str з секвенції символів
    // // string.prototype.endsWith() - перевірка, чи закінчується str на секвенцію символів
    // // string.prototype.includes() - перевірка, чи включає s цю секвенцію символів
    // // повертають bull
    console.log(s.startsWith('Okt'));
    console.log(s.endsWith('en'));
    console.log(s.includes('ten'));
    //
    // //string.prototype.trim() - чистить зайві пробіли з початку і кінця строки
    console.log(s.trim());
    //
    // // string.prototype.charAt()- повертає символ, який є в індексі
    // // string.prototype.indexOf()- повертає індекс символа перший від початку
    // // string.prototype.lastIndexOf()- повертає індекс символа першого з кінця
    console.log(s.charAt(1));
    console.log(s.indexOf('e'));
    console.log(s.lastIndexOf('e'));
    //
    // // string.prototype.replace() - повертає нову str із заміненим символом на
    // // string.prototype.replaceAll() - замінює всі символи на
    // // string.prototype.split()-
    console.log(s.replace('e', '!'));
    // let phone = '+(380) 98-123-12-12';
    // console.log(phone
    //     .replaceAll('(', '')
    //     .replaceAll('+38', '')
    //     .replaceAll(' ', '')
    //     .replaceAll(')', '')
    //     .replaceAll('-', ''));
    // console.log(phone);
    //
    // // string.prototype.substring((2,5)) -виріже і поверне сегмент з індексу 1 включно до індексу 2 не включно
    console.log(s.substring(2, 5));
    //
    // // string.prototype.split (' ') - розрізає текст на елементи масиву по символу, з назвою delimiter
    console.log(s.split('e'));
    //
    // // МАСИВИ методи (функції)
    // // -------------------------------------------------------------------------------
    let numbers = [11, 22, 33, 44, 55, 66, 77, 88, 99, 100];
    // console.log(Array.isArray(numbers));  //повертає true, якщо об`єкт є масивом
    //
    // // Array.prototype.push() - додає в кінець значення
    // // Array.prototype.unshift() - додає на початок значення
    numbers.push(200);
    numbers.unshift(2);
    console.log(numbers);
    //
    // // Array.prototype.pop() - вирізає з кінця значення і повертає його
    // // Array.prototype.unshift() - вирізає з  початку значення і повертає його
    numbers.pop();
    numbers.shift();
    console.log(numbers);
    //
    // // Array.prototype.join("-")- ліпить значення масиву до купи через символ(якщо треба) і повертає стрінгою
    console.log(numbers.join('-'));
    // // Array.prototype.concat() - з'єднує два масиви
    console.log(numbers.concat(['a','b','c']));
    // // Array.prototype.reverse - змінює вихідний масив
    console.log(numbers.reverse());
    // // Array.prototype.indexOf() - повертає перший індекс значення або -1 якщо немає такого значення
    console.log(numbers.indexOf(77));
    // // Array.prototype.splice -вирізає від 2, 3 елементи, повертає вирізані, вставляє замість них інші-250і350
    console.log(numbers.splice(2,3,250,350));
    // // Array.prototype.includes - повертає true якщо елемент 250 є в масиві
    console.log(numbers.includes(250));

    let users = [
        {name: 'vasya', age: 41, status: false},
        {name: 'petya', age: 30, status: true},
        {name: 'kolya', age: 29, status: true},
        {name: 'olya', age: 28, status: false},
        {name: 'max', age: 30, status: true},
        {name: 'anya', age: 31, status: false},
        {name: 'oleg', age: 28, status: false},
        {name: 'andrey', age: 29, status: true},
        {name: 'masha', age: 30, status: true},
        {name: 'olya', age: 31, status: false},
        {name: 'max', age: 31, status: true}
    ];

    // <!--методи масивів з callback function-->
    // Array.prototype.forEach - ця функція може вивести масив і можна в неї вложити callback
    // для дій з кожним елементом або/і індексом. початковий масив не змінюється
    // щось типу циклу
    numbers.forEach(function (number, index) {
        number = number * 2 + 10;
        console.log(number, index)
    })
    console.log(numbers);
    // короткий запис
    numbers.forEach((val, index) => console.log(val * 2 + 10, index));

    // Array.prototype.filter() виводимо старше 29 років. Короткий запис функції
    let filter = users.filter(value => value.age > 29);
    console.log(filter);
    console.log(users);

    // в цьому прикладі виводимо парні елементи з непарним індексом з масиву numbers
    let filterArray = numbers.filter((item, index) => {
        // console.log(index,item);
        return item % 2 === 0 && index % 2 !== 0;
    })
    console.log('фільтр непарний індекс  -' + filterArray);

    // Array.prototype.map - повертає інший новий масив, в якому елементи змінені згідно опису всередині
    let mapMetod = numbers.map((value) => value * 2)
    console.log('map  -' + mapMetod);
    // інший приклад
    console.log(users.map((user) => {
        return {name: user.name, age: user.age};
    }));

    // Array.prototype.sort -треба вказати напрямок - current-next
    console.log(users.sort((current, next) => {
        return current.age - next.age
    }))
    // сортуємо по довжині імені в сторону зростання
    console.log(users.sort((cur, next) => cur.name.length - next.name.length))
    // сортуємо по двох критеріях якщо по першому критерію нуль повертається тобто рівне, тоді по другому
    console.log(users.sort((cur, next) => {
        if (cur.name.length - next.name.length === 0) {
            return cur.age - next.age
        } else {
            return cur.name.length - next.name.length
        }
    }));

    // Array.prototype.find - по критерію знайти 1й обєкт
    console.log(users.find(value => value.status));

    // Array.prototype.every - перевірити чи тип поля name кожного елемента в масиві наприклад стрінг.
    console.log(users.every(value => typeof value.name === 'string'));

    // Array.prototype.some - перевірити чи тип поля status хоч би одного елемента в масиві true
    console.log(users.some(value => typeof value.status));

    // Array.prototype.flat - переводить багатовимірний масив в одновимірний з глибиною n.
    let matrics = [[1, 2, 3], [5, 6, 7, 8, ['a', 'b']]];
    console.log(matrics.flat(2));

    // Array.prototype.flatMap - переводить багатовимірний масив в одновимірний
    // і дозволяє його змінити
    console.log(matrics.flatMap(value => value + 1));

    // Array.prototype.reduse - дозволяє зменшити кількість елементів в масиві
    // і дозволяє його змінити і закинути в корзину в кінці
    let arr = [11, 12, 14];
    console.log(arr.reduce((previousValue, currentValue) => {
        console.log(previousValue, currentValue);
        return previousValue + currentValue
    }, {}))
    // як застосувати, наприклад, з масиву зробити об`єкт з назвою поля як user.name
    console.log(users.reduce((basket, user) => {
        basket[user.name] = user;
        return basket;
    }, {}))
    // або в корзину в дві комірки які будуть масивами з true і False
    console.log(users.reduce((basket, user) => {
        if (user.status) {
            basket.statusTrue.push(user);
        } else {
            basket.statusFalse.push(user);
        }
        return basket;
    }, {statusTrue: [], statusFalse: []}));


</script>

</body>
</html>