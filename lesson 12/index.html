<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<ul class="posts"></ul>
<form name="saveUserForm" method="post">
    <input type="text" name="name">
    <input type="text" name="username">
    <input type="text" name="email">
    <button>send</button>
</form>
<script>

    // принцип роботи сайтів
    //на хості (віддаленому компі, сервері) є обробники на back-end (jawa, paython , тощо), який бере шаблон, заповнює його
    //даними з бази даних і віддає як HTML сторінку
    // якщо через слеш написати додаткову інфу, обробник побачить і видасть відповідну інфу у вигляді row data, які можна обробити
    //сайт з псевдо API
    // https://jsonplaceholder.typicode.com/users

    //є два методи роботи з API
    //перший - спеціальний об'єкт

    // let xhr = new XMLHttpRequest();
    // xhr.open('GET', 'https://jsonplaceholder.typicode.com/users', true);
    // xhr.send();
    // xhr.onload = function () {
    //     console.log(xhr.response);
    // }

    // або за допомогою функції fetch - асинхронна
    //коли (then) сайт дасть відповідь (response),яку метод json перетворить на js obj, тоді я виведу це
    //
    // fetch('https://jsonplaceholder.typicode.com/users').then((response) => {
    //     return response.json();
    // }).then(jsonResponse => console.log(jsonResponse));
    //або записати те саме скорочено

    //отже, дали запит, отримали відповідь, вичавили json об'єкт, отримали js об'єкт, вивели
    // і потім виводимо через DOM
    //
    // fetch('https://jsonplaceholder.typicode.com/posts')
    //     .then((data) => data.json())
    //     .then(postsData => {
    //         let postsBlock=document.getElementsByClassName('posts')[0];
    //
    //         for (const post of postsData) {
    //             let postElement = document.createElement("li");
    //             postElement.innerText= post.body;
    //            postsBlock.appendChild(postElement);
    //         }
    //     });

    // щоб зробити збереження є метод POST, який обов'язково вказувати в аргументах
    // fetch('https://jsonplaceholder.typicode.com/users', {
    //     method: 'POST',
    //     headers: {
    //         'Content-type': 'application/json; charset=UTF-8'
    //     },
    //     body: JSON.stringify({
    //         name: 'vova',
    //         username: 'vovan',
    //         email: 'fff@ddd.com'
    //     })
    // })
    //     .then((data) => data.json())
    //     .then(postsData => console.log(postsData));

    // let form = document.saveUserForm;
    // form.onsubmit = (e) => {
    //     e.preventDefault();
    //     let name = form.name.value;
    //     let username = form.username.value;
    //     let email = form.email.value;
    //     let user = {name, username, email};
    //     console.log(user)
    //     fetch('https://jsonplaceholder.typicode.com/users', {
    //         method: 'POST',
    //         headers: {
    //             'Content-type': 'application/json; charset=UTF-8'
    //         },
    //         body: JSON.stringify({name, username, email}) // якщо ключі називаються так само як в об'єкті, з якого дані можемо їх назви не вказувати
    //     })
    //         .then((data) => data.json())
    //         .then(postsData => console.log(postsData));
    // }

</script>

</body>
</html>